<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>古堡電視牆 | index.html</title>
  <style>
    :root {
      --stone: #6b6f75; --mortar: #8a8f97; --shadow: rgba(0,0,0,.35);
      --torch: #ff9f43; --flame1: #ffcc66; --flame2: #ff6b6b;
      --banner: #d64c3b; --gold: #cfa33a; --screen: #1b1e24; --text: #f0f0f0;
    }
    * { box-sizing: border-box; }
    html, body { margin:0; padding:0; background:#111; color:var(--text); font-family:"Noto Sans TC",system-ui; }
    .wall { min-height:100vh; background:linear-gradient(180deg,rgba(0,0,0,.35),rgba(0,0,0,.55)),repeating-linear-gradient(135deg,var(--mortar)0 12px,var(--stone)12px 24px); display:grid; grid-template-rows:auto 1fr auto; }
    header { padding:20px 28px; display:flex; align-items:center; gap:18px; }
    .crest { width:48px; height:48px; border-radius:50%; background:radial-gradient(circle at 30% 30%,var(--gold),transparent 40%),conic-gradient(from 0deg,#6e3e12 0 90deg,#3e260d 90deg 180deg,#6e3e12 180deg 270deg,#3e260d 270deg 360deg); border:2px solid #deb76a; box-shadow:0 0 12px rgba(207,163,58,.35),inset 0 0 8px rgba(0,0,0,.35); }
    h1 { margin:0; font-size:22px; letter-spacing:.08em; }
    .subtitle { opacity:.8; font-size:13px; }
    .castle-stage { max-width:1200px; margin:20px auto 40px; padding:22px; position:relative; }
    .arch { position:relative; border:10px solid #4d5158; border-radius:22px; background:linear-gradient(180deg,rgba(255,255,255,.05),rgba(0,0,0,.25)),repeating-linear-gradient(0deg,#5a5f66 0 16px,#72777f 16px 32px); box-shadow:0 18px 30px var(--shadow),inset 0 0 40px rgba(0,0,0,.35); padding:26px; }
    .banner { position:absolute; top:-14px; width:120px; height:160px; background:linear-gradient(180deg,var(--banner),#7a1e17); clip-path:polygon(0 0,100% 0,100% 70%,50% 100%,0 70%); border:3px solid #5a0e09; box-shadow:0 8px 12px var(--shadow); }
    .banner.left { left:-16px; } .banner.right { right:-16px; }
    .torch { position:absolute; width:14px; height:60px; background:#2b2b2b; border:2px solid #111; border-radius:6px; box-shadow:0 6px 10px var(--shadow); }
    .torch::before { content:""; position:absolute; left:50%; transform:translateX(-50%); top:-22px; width:22px; height:22px; background:radial-gradient(circle at 50% 40%,var(--flame1),transparent 60%); border-radius:50%; box-shadow:0 0 16px var(--torch),0 0 40px rgba(255,159,67,.6); animation:flicker 1.2s infinite ease-in-out; }
    @keyframes flicker { 0%,100%{filter:hue-rotate(0deg) brightness(1); transform:translateX(-50%) translateY(0) scale(1);} 50%{filter:hue-rotate(10deg) brightness(1.15); transform:translateX(-50%) translateY(-2px) scale(1.08);} }
    .torch.left { left:18px; top:22px; } .torch.right { right:18px; top:22px; }
    .screens { display:grid; grid-template-columns:1fr 1fr; gap:18px; margin-top:16px; }
    .screen { background:var(--screen); border-radius:12px; border:2px solid #2c3138; box-shadow:0 10px 22px var(--shadow),inset 0 0 24px rgba(0,0,0,.6); overflow:hidden; min-height:380px; }
    .screen header { display:flex; align-items:center; justify-content:space-between; background:linear-gradient(180deg,#2a2f36,#1d2127); border-bottom:1px solid #121417; padding:8px 12px; font-size:12px; }
    .screen header .title { opacity:.9; }
    .screen header .light { width:10px; height:10px; border-radius:50%; background:#49d269; box-shadow:0 0 8px #49d269ad; }
    iframe, video { width:100%; height:calc(100% - 34px); border:0; background:#000; }
    #message { padding:10px; font-size:14px; text-align:center; }
    #seriesName { padding:5px; font-size:13px; text-align:center; opacity:.8; }
    footer { padding:16px 28px; font-size:12px; opacity:.75; }
  </style>
</head>
<body>
  <div class="wall">
    <header>
      <div class="crest"></div>
      <div>
        <h1>古堡電視牆</h1>
        <div class="subtitle">Castle × Guardian × Ritual × 主角動態 四系列循環展示</div>
      </div>
    </header>

    <main class="castle-stage">
      <div class="arch">
        <div class="banner left"></div>
        <div class="banner right"></div>
        <div class="torch left"></div>
        <div class="torch right"></div>

        <div class="screens">
          <!-- 左側：多站輪播 -->
          <section class="screen" aria-label="多站輪播">
            <header><span class="title">載入中...</span><span class="light"></span></header>
            <iframe src="" allow="fullscreen"></iframe>
            <div class="fallback" style="display:none; text-align:center; padding:20px;">無法嵌入站點，已切換至保底站點。</div>
          </section>

          <!-- 右側：影片播放 + 語言牆宣言 -->
          <section class="screen" aria-label="右側播放牆">
            <header>
              <span class="title" id="videoTitle">載入影片...</span>
              <span class="light"></span>
            </header>
            <video id="rightVideo" controls autoplay loop muted>
              <source id="videoSource" src="video/c/c1.mp4" type="video/mp4">
              您的瀏覽器不支援影片播放，請下載檔案觀看。
            </video>
            <div id="seriesName"></div>
            <div id="message"></div>
          </section>
        </div>
      </div>
    </main>

    <footer>
      古堡電視牆｜CHANGE YOUR LIFE BY USB．AGI-CODE．三鎖試煉．fox_gate.php
    </footer>
  </div>

  <script>
    // 左側：多站輪播 + 保底站點
    (function() {
      const sites = ["https://5711438.fun","https://foxokiso.xyz","https://28825252.xyz"];
      const fallbackSite = "https://example.com"; // 保底站點
      const
